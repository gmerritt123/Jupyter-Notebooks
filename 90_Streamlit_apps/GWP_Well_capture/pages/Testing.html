<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Well Capture</title>
    <style>
      html, body {
        box-sizing: border-box;
        display: flow-root;
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
    <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-3.4.1.min.js"></script>
    <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.4.1.min.js"></script>
    <script type="text/javascript">
        Bokeh.set_log_level("info");
    </script>
  </head>
  <body>
    <div id="d7d9a965-df33-4d62-ae6d-5cda0c010ce6" data-root-id="p5034" style="display: contents;"></div>
  
    <script type="application/json" id="d8fbca03-18af-42bd-8e81-523d2975a2aa">
      {"60431159-2243-4a8c-a4e2-f9ccf3e0c870":{"version":"3.4.1","title":"Bokeh Application","roots":[{"type":"object","name":"Column","id":"p5034","attributes":{"children":[{"type":"object","name":"Slider","id":"p4961","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"type":"object","name":"CustomJS","id":"p5033","attributes":{"args":{"type":"map","entries":[["src",{"type":"object","name":"ColumnDataSource","id":"p5020","attributes":{"selected":{"type":"object","name":"Selection","id":"p5021","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p5022"},"data":{"type":"map","entries":[["y",[]],["x",[]]]}}}],["sl_dict",{"type":"map","entries":[["Pumping",{"id":"p4961"}],["Thickness",{"type":"object","name":"Slider","id":"p4962","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"id":"p5033"}]]]},"stylesheets":[{"type":"object","name":"InlineStyleSheet","id":"p4960","attributes":{"css":"div.bk-slider-title{\n                font-family: arial;\n                font-weight: bold;\n                font-size: 14pt;\n                color: #17648D;\n"}}],"width":800,"title":"Aquifer thickness (m)","format":"0.00","start":1,"end":100,"value":20,"step":0.01}}],["Gradient",{"type":"object","name":"Slider","id":"p4964","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"id":"p5033"}]]]},"stylesheets":[{"id":"p4960"}],"width":800,"title":"Gradient of regional flow (dimensionless)","format":{"type":"object","name":"CustomJSTickFormatter","id":"p4963","attributes":{"code":"return (10**tick).toExponential(2).toString()"}},"start":-5,"end":0,"value":-5,"step":0.1}}],["Conductivity",{"type":"object","name":"Slider","id":"p4966","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"id":"p5033"}]]]},"stylesheets":[{"id":"p4960"}],"width":800,"title":"Hydraulic Conductivity (m/s)","format":{"type":"object","name":"CustomJSTickFormatter","id":"p4965","attributes":{"code":"return (10**tick).toExponential(2).toString()"}},"start":-7,"end":0,"value":-3,"step":0.01}}]]}],["f",{"type":"object","name":"Figure","id":"p4967","attributes":{"width":800,"height":800,"x_range":{"type":"object","name":"Range1d","id":"p4977","attributes":{"start":-10}},"y_range":{"type":"object","name":"Range1d","id":"p4978","attributes":{"start":-5,"end":5}},"x_scale":{"type":"object","name":"LinearScale","id":"p4979"},"y_scale":{"type":"object","name":"LinearScale","id":"p4980"},"title":{"type":"object","name":"Title","id":"p4970","attributes":{"text":"Well capture zone of a pumping well","text_color":"#17648D","text_font":"arial","text_font_size":"16pt"}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p5015","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p5009","attributes":{"selected":{"type":"object","name":"Selection","id":"p5010","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p5011"},"data":{"type":"map","entries":[["x",[0]],["y",[0]]]}}},"view":{"type":"object","name":"CDSView","id":"p5016","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p5017"}}},"glyph":{"type":"object","name":"Scatter","id":"p5012","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#1f77b4"},"fill_color":{"type":"value","value":"red"},"marker":{"type":"value","value":"circle_x"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p5013","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#1f77b4"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"red"},"fill_alpha":{"type":"value","value":0.1},"hatch_alpha":{"type":"value","value":0.1},"marker":{"type":"value","value":"circle_x"}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p5014","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"size":{"type":"value","value":12},"line_color":{"type":"value","value":"#1f77b4"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"red"},"fill_alpha":{"type":"value","value":0.2},"hatch_alpha":{"type":"value","value":0.2},"marker":{"type":"value","value":"circle_x"}}}}},{"type":"object","name":"GlyphRenderer","id":"p5029","attributes":{"data_source":{"id":"p5020"},"view":{"type":"object","name":"CDSView","id":"p5030","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p5031"}}},"glyph":{"type":"object","name":"Patch","id":"p5026","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"line_color":"#1f77b4","fill_color":"#1f77b4","fill_alpha":0.1}},"nonselection_glyph":{"type":"object","name":"Patch","id":"p5027","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"line_color":"#1f77b4","line_alpha":0.1,"fill_color":"#1f77b4","fill_alpha":0.1,"hatch_alpha":0.1}},"muted_glyph":{"type":"object","name":"Patch","id":"p5028","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"line_color":"#1f77b4","line_alpha":0.2,"fill_color":"#1f77b4","fill_alpha":0.2,"hatch_alpha":0.2}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p4976","attributes":{"tools":[{"type":"object","name":"PanTool","id":"p4991"},{"type":"object","name":"WheelZoomTool","id":"p4992","attributes":{"renderers":"auto"}},{"type":"object","name":"BoxZoomTool","id":"p4993","attributes":{"overlay":{"type":"object","name":"BoxAnnotation","id":"p4994","attributes":{"syncable":false,"level":"overlay","visible":false,"left":{"type":"number","value":"nan"},"right":{"type":"number","value":"nan"},"top":{"type":"number","value":"nan"},"bottom":{"type":"number","value":"nan"},"left_units":"canvas","right_units":"canvas","top_units":"canvas","bottom_units":"canvas","line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5}}}},{"type":"object","name":"SaveTool","id":"p4999"},{"type":"object","name":"ResetTool","id":"p5000"},{"type":"object","name":"HelpTool","id":"p5001"}]}},"left":[{"type":"object","name":"LinearAxis","id":"p4986","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p4987","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p4988"},"axis_label":"x (m)","axis_label_text_color":"#17648D","axis_label_text_font":"arial","axis_label_text_font_size":"14pt","axis_label_text_font_style":"bold","major_label_policy":{"type":"object","name":"AllLabels","id":"p4989"},"major_label_text_font":"arial","major_label_text_font_size":"12pt","major_label_text_font_style":"normal"}}],"below":[{"type":"object","name":"LinearAxis","id":"p4981","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p4982","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p4983"},"axis_label":"y (m)","axis_label_text_color":"#17648D","axis_label_text_font":"arial","axis_label_text_font_size":"14pt","axis_label_text_font_style":"bold","major_label_policy":{"type":"object","name":"AllLabels","id":"p4984"},"major_label_text_font":"arial","major_label_text_font_size":"12pt","major_label_text_font_style":"normal"}}],"center":[{"type":"object","name":"Grid","id":"p4985","attributes":{"axis":{"id":"p4981"}}},{"type":"object","name":"Grid","id":"p4990","attributes":{"dimension":1,"axis":{"id":"p4986"}}},{"type":"object","name":"Arrow","id":"p5003","attributes":{"source":{"type":"object","name":"ColumnDataSource","id":"p5005","attributes":{"selected":{"type":"object","name":"Selection","id":"p5006","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p5007"},"data":{"type":"map"}}},"x_start":{"type":"value","value":100},"y_start":{"type":"value","value":400},"start_units":"screen","x_end":{"type":"value","value":200},"y_end":{"type":"value","value":400},"end_units":"screen","end":{"type":"object","name":"VeeHead","id":"p5002","attributes":{"size":{"type":"value","value":15}}}}},{"type":"object","name":"Label","id":"p5008","attributes":{"text":"Regional Gradient\nDirection","x":100,"y":400,"x_units":"screen","y_units":"screen","y_offset":-50}},{"type":"object","name":"Legend","id":"p5018","attributes":{"title_text_font":"arial","title_text_font_size":"14pt","title_text_font_style":"bold","label_text_color":"#17648D","label_text_font":"arial","label_text_font_size":"12pt","items":[{"type":"object","name":"LegendItem","id":"p5019","attributes":{"label":{"type":"value","value":"Pumping well"},"renderers":[{"id":"p5015"}]}},{"type":"object","name":"LegendItem","id":"p5032","attributes":{"label":{"type":"value","value":"Well capture zone"},"renderers":[{"id":"p5029"}]}}]}}],"match_aspect":true}}]]},"code":"// js function equivalent to np.linspace\nfunction makeArr(startValue, stopValue, cardinality) {\n  var arr = [];\n  var step = (stopValue - startValue) / (cardinality - 1);\n  for (var i = 0; i &lt; cardinality; i++) {\n\tarr.push(startValue + (step * i));\n  }\n  return arr;\n}\n\n// import * as d3 from \"https://cdnjs.cloudflare.com/ajax/libs/d3/7.9.0/d3.min.js\"\nimport * as d3 from \"https://cdn.jsdelivr.net/npm/d3@7.9/+esm\"\n\n\nexport default function({src,sl_dict,f}){\n\t//collect slider values\n\tvar q = sl_dict['Pumping'].value\n\tvar k = 10**sl_dict['Conductivity'].value\n\tvar i = 10**sl_dict['Gradient'].value\n\tvar b = sl_dict['Thickness'].value\n\n\t//get ymax_conf and x0_conf\n\tvar ymax = q/(2*k*i*b)\n\tvar x0 = q/(2*Math.PI*k*i*b)\n\n\t//calculate array for y based on ymax\n\tvar ya = makeArr(-ymax*0.999,ymax*0.999, 1000)\n\t//calculate array for x based on ya\n\tvar xa = ya.map(y=&gt;y/(Math.tan(2*Math.PI*k*i*b*y/q)))\n\n\t//update src\n\tsrc.data = {'x':xa, 'y':ya}\n\tsrc.change.emit()\n\n\t//calculate figure bounds\n\tf.x_range.end = x0*1.1\n\tf.x_range.start = x0*-25\n\tvar yr = (f.x_range.end - f.x_range.start)/2\n\tf.y_range.start = -yr\n\tf.y_range.end = yr\n}","module":true}}]]]},"stylesheets":[{"id":"p4960"}],"width":800,"title":"Pumping rate (m\u00b3/s)","format":"0.000","start":0,"end":0.2,"value":0,"step":0.001}},{"id":"p4962"},{"id":"p4964"},{"id":"p4966"},{"id":"p4967"}]}}]}}
    </script>
    <script type="text/javascript">
      (function() {
        const fn = function() {
          Bokeh.safely(function() {
            (function(root) {
              function embed_document(root) {
              const docs_json = document.getElementById('d8fbca03-18af-42bd-8e81-523d2975a2aa').textContent;
              const render_items = [{"docid":"60431159-2243-4a8c-a4e2-f9ccf3e0c870","roots":{"p5034":"d7d9a965-df33-4d62-ae6d-5cda0c010ce6"},"root_ids":["p5034"]}];
              root.Bokeh.embed.embed_items(docs_json, render_items);
              }
              if (root.Bokeh !== undefined) {
                embed_document(root);
              } else {
                let attempts = 0;
                const timer = setInterval(function(root) {
                  if (root.Bokeh !== undefined) {
                    clearInterval(timer);
                    embed_document(root);
                  } else {
                    attempts++;
                    if (attempts > 100) {
                      clearInterval(timer);
                      console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                    }
                  }
                }, 10, root)
              }
            })(window);
          });
        };
        if (document.readyState != "loading") fn();
        else document.addEventListener("DOMContentLoaded", fn);
      })();
    </script>
  </body>
</html>